# Cross-compilation configuration
# https://github.com/cross-rs/cross

[build.env]
passthrough = [
    "OPENSSL_NO_VENDOR",
    "OPENSSL_DIR",
    "OPENSSL_STATIC",
]

# Use pre-built OpenSSL in cross Docker images
[target.x86_64-unknown-linux-musl]
pre-build = ["apt-get update && apt-get install -y musl-tools"]

[target.aarch64-unknown-linux-gnu]
pre-build = ["apt-get update && apt-get install -y libssl-dev"]

[target.aarch64-unknown-linux-musl]
pre-build = ["apt-get update && apt-get install -y musl-tools"]
